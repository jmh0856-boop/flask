# ORM과 SQLAlchemy

## ORM의 의미, 사용 이유
- **의미**: ORM(Object-Relational Mapping, 객체-관계 매핑)은 객체 지향 프로그래밍 언어의 객체(Object)와 관계형 데이터베이스의 데이터(Relational)를 자동으로 연결(Mapping)하는 프로그래밍 기술 입니다.
  - 객체(Object) - Python (Flask, Django)
  - 관계형(Relational)데이터베이스 DB - RDBMS
  - 위 2개를 Mapping(연결) 시켜주는 것
- 객체: 객체, 클래스, 속성의 구조
- 관계형 데이터베이스: 테이블, 로우 칼럽과 같은 구조

- **사용 이유**: SQL 쿼리문을 직접 작성할 필요 없이 파이썬 코드만으로 데이터베이스 조작이 가능해져, 개발 생산성이 향상되고 유지보수가 쉬워집니다. 또한, 데이터베이스 종류가 바뀌어도 코드 변경을 최소화할 수 있습니다.
 
## Model 정의하기
- SQLAlchemy에서 모델(Model)은 데이터베이스 테이블에 매핑되는 파이썬 클래스를 의미합니다.
  - declarative_base(): 모델 클래스 생성을 위한 기본 클래스 역할을 합니다.
  - 클래스 및 속성: 클래스 변수는 테이블의 컬럼(Column)에 매핑되며, Integer, String과 같은 SQLAlchemy의 타입 시스템을 사용하여 데이터 유형과 제약 조건을 명시적으로 정의합니다.

## 모델 간의 관계 해석
- 관계형 데이터베이스의 핵심인 테이블 간의 관계(예: 1:N, N:M)를 객체 지향적으로 다룹니다.
  - 외래 키(Foreign Key): 한 테이블의 컬럼이 다른 테이블의 기본 키를 참조하는 것으로, 관계의 방향성을 설정합니다.
  - relational(): SQLAlchemy ORM 레벨에서 객체 간의 연관성을 정의하는데 사용됩니다. 예를 들어, User클래스에서 Todo클래스의 리스트를 바로 접근할 수 있게 하여, SQL의 JOIN 연산을 추상화 합니다.

## 스키마와 모델 사이의 차이점
- **모델**: 애플리케이션 코드 내에서 데이터를 나타내는 논리적 구조(파이썬 클래스)입니다.
- **스키마**: 실제 데이터베이스에 데이터가 어떻게 저장될지 정의하는 구체적인 구조(테이블, 컬럼, 제약 조건 등)를 의미합니다. 고정된 구조를 요구합니다.
- **차이점**: ORM은 모델 정의(Base.metadata.create_all())를 바탕으로 스키마를 생성하고, 런타임에는 객체(모델 인스턴스)를 DB레코드(스키마 내 행)로, 레코드를 객체로 변환하는 '매핑'작업을 수행합니다

## CRUD 테스팅
- CRUD는 Create(생성), Read(읽기), Update(수정), Delete(삭제)의 약자로, 데이터베이스의 기본적인 네 가지 작업을 말합니다. SQLAlchemy에서는 session.add(), session.query().all, session.commit(), session.delete() 등의 메소드를 사용하여 이러한 작업을 테스트하고 수행합니다.

## 직렬화와 역직렬화의 의미
- **직렬화(Serialization)**: 메모리 상의 **파이썬 객체 상태**를 네트워크 전송이나 파일 저장이 가능한 바이트 스트림 또는 JSON과 같은 연속적인 형식(serial format)으로 변환하는 과정입니다.
- **역직렬화(Deserialization)**: 반대로 바이트 스트림이나 JSON 문자열 형태의 데이터를 다시 **원본 파이썬 객체로 복원**하는 과정입니다.
- **사용 이유**: 메모리에 상주하는 객체는 다른 시스템에서 직접 사용할 수 없으므로, 데이터 교환 시 이 과정이 필수적입니다.
